(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/snail.8bef9566.svg"},,,function(e,t){e.exports={pickRandom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;return e[Math.floor(Math.random()*t)]}}},function(e){e.exports={id:1559849230456}},,,,,,,,function(e,t,n){e.exports=n(41)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),l=n.n(r),s=(n(25),n(2)),o=n(5),u=(n(26),n(11));var i=function(e){var t=function(e){var t=String(e).match(/(\d+|-|\+|\*|\/)/gi);if(3!==t.length)throw new Error("Unexpected Stimulus: ".concat(e));return t}(e),n=Object(s.a)(t,3),a=n[0],c=n[1],r=n[2];switch(c){case"+":return 1*a+1*r;case"-":return a-r;case"*":return a*r;case"/":return a/r;default:throw new Error("Unexpected Stimulus operation: ".concat(e))}},m=[].concat(["2*4","2*5","3*4","3*5","3*6"]),d=[{name:"\u0412\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0435 4 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 13",type:"COUNT20",getTasks:function(){return m.map(function(e){return{taskId:e,taskType:"COUNT20"}})},getTask:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(u.pickRandom)(m),n=0;n<10&&t===e.stimulus;n++)t=Object(u.pickRandom)(m);return{question:t,expectedAnswer:String(i(t))}}}],E=n(19),f={transform:"scale(0.1)"},v={transform:"scale(1)"};var h={};h[0]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.031,0,0,64.04,0,143.027c0,78.996,64.031,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M143.018,80.578c-33.987,0-44.58,34.818-44.58,62.494s10.602,62.494,44.58,62.494s44.58-34.818,44.58-62.494S177.005,80.578,143.018,80.578zM143.018,182.476c-17.163,0-18.343-27.345-18.343-39.395c0-12.899,1.18-39.395,18.343-39.395s18.343,26.496,18.343,39.395C161.361,155.131,160.181,182.476,143.018,182.476z"}))),h[1]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.031,0,0,64.04,0,143.027c0,78.996,64.031,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z"}),c.a.createElement("path",{d:"M150.026,80.39h-22.84c-6.91,0-10.933,7.044-10.933,13.158c0,5.936,3.209,13.158,10.933,13.158h7.259v85.36c0,8.734,6.257,13.605,13.176,13.605s13.185-4.881,13.185-13.605V92.771C160.798,85.789,156.945,80.39,150.026,80.39z"}))),h[2]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.031,0,0,64.04,0,143.027c0,78.996,64.031,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M173.232,180.205h-32.038c15.661-18.459,40.852-39.753,40.852-63.736c0-21.91-16.564-35.882-39.216-35.882c-22.661,0-43.847,17.977-43.847,39.717c0,6.731,4.604,12.586,13.445,12.586c17.691,0,8.108-28.498,29.294-28.498c7.554,0,13.266,6.204,13.266,13.284c0,6.204-3.138,11.558-6.454,16.046c-13.999,18.969-30.581,34.496-45.867,51.579c-1.841,2.065-4.246,5.176-4.246,8.796c0,7.938,6.266,11.38,14.365,11.38h61.528c6.999,0,13.266-4.568,13.266-12.497C187.58,185.05,181.331,180.205,173.232,180.205z"}))),h[3]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M167.717,137.637 c8.966-5.936,13.364-15.277,13.364-25.977c0-13.239-11.254-31.082-34.729-31.082c-18.093,0-35.542,14.276-35.542,27.515 c0,6.284,3.915,12.56,10.602,12.56c11.085,0,8.966-16.636,24.449-16.636c7.339,0,11.737,4.925,11.737,11.371 c0,18.853-23.152,6.794-23.152,24.627c0,20.033,27.72,2.548,27.72,26.317c0,9.002-6.856,15.796-15.331,15.796 c-18.424,0-15.813-19.872-26.898-19.872c-5.873,0-12.551,4.756-12.551,11.38c0,13.418,15,31.922,39.127,31.922 c23.152,0,41.084-17.154,41.084-37.527C187.598,154.621,179.445,143.25,167.717,137.637z"}))),h[4]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M175.065,155.122h-5.042v-52.607 c0-15.59-8.394-21.937-18.933-21.937c-9.449,0-14.535,3.093-18.531,9.94l-40.7,69.565c-1.091,1.707-2.548,3.772-2.548,7.545 c0,4.452,3.817,10.11,12.72,10.11h43.793V192.3c0,9.091,1.85,13.364,11.12,13.364s13.078-4.282,13.078-13.364v-14.562h5.042 c7.089,0,12.72-4.452,12.72-11.317C187.785,159.573,182.154,155.122,175.065,155.122z M146.379,155.122h-24.896l24.529-47.816 h0.367V155.122z"}))),h[5]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M149.678,120.849c-4.613,0-9.395,0.867-13.811,1.716l2.762-18.325h34.63c3.316,0,12.89-1.037,12.89-12.971c0-6.222-4.979-10.888-13.445-10.888h-44.401c-8.832,0-12.712,2.941-14.365,16.43l-4.604,36.481c-0.188,1.895-0.554,3.629-0.554,5.873c0,2.941,3.683,8.126,10.861,8.126c9.395,0,11.049-5.703,21.74-5.703c11.424,0,17.691,7.08,17.691,17.458c0,10.897-6.633,22.643-19.523,22.643c-12.345,0-21.195-11.058-28.561-11.058c-6.812,0-12.515,5.364-12.515,11.755c0,15.214,27.443,23.17,40.521,23.17c31.859,0,48.817-19.023,48.817-47.896C187.812,137.44,171.972,120.849,149.678,120.849z"}))),h[6]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M150.5,125.417c-3.915,0-8.01,0.679-11.228,2.047l-0.349-0.349c5.873-7.983,17.458-18.844,24.583-27.166c2.136-2.548,3.737-4.586,3.737-6.955c0-6.123-7.652-12.408-12.64-12.408c-1.43,0-3.388,0-5.346,1.198c-2.145,1.35-4.282,2.718-5.712,4.076c-17.995,15.956-45.25,51.955-45.25,77.61c0,22.58,17.288,42.112,44.723,42.112c26.371,0,44.723-20.042,44.723-42.112C187.741,143.411,171.892,125.417,150.5,125.417z M143.018,181.117c-10.691,0-16.931-8.153-16.931-17.664c0-10.021,6.776-17.673,16.931-17.673c11.228,0,16.931,8.671,16.931,17.673C159.949,173.304,153.173,181.117,143.018,181.117z"}))),h[7]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M175.047,80.39h-63.674c-9.672,0-13.007,5.927-13.007,12.041c0,5.936,3.522,12.041,13.007,12.041H156.4l-43.963,82.714c-1.243,2.431-1.761,4.005-1.761,6.105c0,5.06,4.925,12.39,14.598,12.39c7.92,0,9.851-3.486,14.768-13.257l43.614-87.944c2.11-4.362,4.049-8.018,4.049-11.514C187.705,88.409,184.013,80.39,175.047,80.39z"}))),h[8]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027c78.996,0,143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M168.289,137.467c8.85-5.265,13.909-14.768,13.909-24.279c0-20.042-18.236-32.61-39.18-32.61c-21.481,0-38.993,12.747-38.993,32.61c0,10.691,5.238,18.504,13.722,24.279c-11.371,5.775-19.318,15.796-19.318,29.383c0,22.759,19.675,38.716,44.589,38.716c24.189,0,44.589-15.107,44.589-38.716C187.607,153.781,180.571,143.25,168.289,137.467zM143.018,102.997c8.483,0,13.185,5.605,13.185,12.908c0,7.634-4.881,12.899-13.185,12.899c-8.305,0-12.998-5.265-12.998-12.899C130.02,108.602,134.535,102.997,143.018,102.997z M143.018,182.127c-11.013,0-16.43-8.322-16.43-16.976c0-9.502,5.953-16.976,16.43-16.976c9.922,0,16.43,6.284,16.43,16.976C159.448,173.813,153.307,182.127,143.018,182.127z"}))),h[9]=c.a.createElement("svg",{style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{d:"M143.027,0C64.031,0,0,64.04,0,143.027c0,78.996,64.031,143.027,143.027,143.027s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M143.018,80.578c-26.371,0-44.723,20.042-44.723,42.121c0,20.033,15.858,38.036,37.241,38.036c3.915,0,8.01-0.679,11.228-2.038l0.349,0.34c-5.873,7.983-17.458,18.844-24.583,27.166c-2.136,2.548-3.746,4.595-3.746,6.964c0,6.114,7.661,12.399,12.649,12.399c1.43,0,3.388,0,5.355-1.189c2.136-1.359,4.273-2.726,5.703-4.076c17.995-15.965,45.25-51.963,45.25-77.61C187.741,100.119,170.452,80.578,143.018,80.578z M143.018,140.363c-11.228,0-16.931-8.662-16.931-17.664c0-9.86,6.776-17.664,16.931-17.664c10.691,0,16.931,8.153,16.931,17.664C159.949,132.711,153.173,140.363,143.018,140.363z"}))),h[99]=c.a.createElement("svg",{className:"numpad-button-error",style:{width:"100%"},viewBox:"0 0 286.054 286.054"},c.a.createElement("g",null,c.a.createElement("path",{style:{fill:"#E2574C"},d:"M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 c78.996,0,143.027-64.022,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236 c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209 S207.21,259.236,143.027,259.236z M143.036,62.726c-10.244,0-17.995,5.346-17.995,13.981v79.201c0,8.644,7.75,13.972,17.995,13.972 c9.994,0,17.995-5.551,17.995-13.972V76.707C161.03,68.277,153.03,62.726,143.036,62.726z M143.036,187.723 c-9.842,0-17.852,8.01-17.852,17.86c0,9.833,8.01,17.843,17.852,17.843s17.843-8.01,17.843-17.843 C160.878,195.732,152.878,187.723,143.036,187.723z"})));var g=function(e){var t=e.digit,n=void 0===t?99:t,r=e.digitHandler,l=Object(a.useState)(!1),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(a.useState)(null),d=Object(s.a)(m,2),g=d[0],p=d[1];Object(a.useEffect)(function(){g&&E.a.to(g,.1,v)},[g]);var b=h[n]||h[99];return c.a.createElement("button",{style:f,className:"numpad-button"+(u?" active":""),onTouchStart:function(){return i(!0)},onTouchEnd:function(e){e.preventDefault(),i(!1),r(n)},onTouchCancel:function(){return i(!1)},onClick:function(){return r(n)},ref:p},b)};n(28);var p=function(e){var t=e.digitHandler,n=function(e){return c.a.createElement(g,{digit:e,digitHandler:t})};return c.a.createElement("section",{className:"numpad"},c.a.createElement("div",{className:"numpad-row"},n(1),n(2),n(3)),c.a.createElement("div",{className:"numpad-row"},n(4),n(5),n(6)),c.a.createElement("div",{className:"numpad-row"},n(7),n(8),n(9)),c.a.createElement("div",{className:"numpad-row"},n(0)))};var b=function(e){var t=e.question,n=e.answer;return c.a.createElement("div",{className:"task flex-column pixeled font-huge"},c.a.createElement("div",null,t),c.a.createElement("span",{className:n?"":"transparent"},n||"?"))};n(29);var w=function(e){var t=e.stimulus,n=e.answer,a=e.handleClose;return c.a.createElement("section",{className:"explainer"},c.a.createElement("h2",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"),c.a.createElement("p",{className:"explainer-answer pixeled font-huge"},t," = ",n),c.a.createElement("button",{className:"explainer-close",onClick:a},"OK"))},O="simple-math",S=function(e){return"0123456789".indexOf(e)>=0},C=function(e,t){return e&&t&&t-e||null};var j=function(e){var t=e.question,n=e.expectedAnswer,r=e.handleComplete,l=Object(a.useState)(Date.now()),o=Object(s.a)(l,1)[0],u=Object(a.useState)(null),i=Object(s.a)(u,2),m=i[0],d=i[1],E=Object(a.useState)(null),f=Object(s.a)(E,2),v=f[0],h=f[1],g=Object(a.useState)(""),j=Object(s.a)(g,2),y=j[0],N=j[1],k=Object(a.useState)(!1),M=Object(s.a)(k,2),A=M[0],z=M[1],R=y.length>=n.length,x=R&&!(y===n)&&!A;return console.log("Task render",t,o),R&&!x&&function(){var e={createdAt:o,task:O,stimulus:t,expected:n,punched:y,success:y===n,delayA:C(o,m),delayZ:C(o,v)};r(e)}(),x?c.a.createElement(w,{stimulus:t,answer:n,handleClose:function(){return z(!0)},key:y}):R?(console.error("Impossible state"),c.a.createElement("div",null,"whoops...")):c.a.createElement(c.a.Fragment,null,c.a.createElement(b,{question:t,answer:y}),c.a.createElement(p,{digitHandler:function(e){console.log("handling char:",e),S(e)&&(m||d(Date.now()),h(Date.now()),N(y+e))}}))},y=(n(30),n(8)),N=n.n(y);n(31);var k=function(e){var t=e.val,n=e.max,a=void 0===n?30:n,r=e.steps,l=void 0===r?3:r,s=e.guageWidth,u=void 0===s?90:s,i=u/l,m={width:u,height:i},d={width:u,height:i,backgroundImage:"url(".concat(N.a,")")},E=Object(o.a)({},d,{width:t>=a?u:u/a*t});return c.a.createElement("span",{className:"task-guage-wrapper",style:m},c.a.createElement("span",{className:"task-guage-background",style:d}),c.a.createElement("span",{className:"task-guage-bar",style:E}))};var M=function(e){var t=e.db,n=e.sessionId,r=e.doneHandler,l=Object(a.useState)("LOADING"),u=Object(s.a)(l,2),i=u[0],m=u[1],d=Object(a.useState)(""),E=Object(s.a)(d,2),f=E[0],v=E[1],h=Object(a.useState)([]),g=Object(s.a)(h,2),p=g[0],b=g[1],w=Object(a.useState)(""),O=Object(s.a)(w,2),S=O[0],C=O[1];function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(6e4/e)}function y(e){var t=e.stimulus.replace("!+ 0","");return Object(o.a)({},e,{formattedStimulus:t})}Object(a.useEffect)(function(){t.table("reviews").where({session:n}).toArray().then(M).catch(function(e){console.log(e),m("ERROR"),v(e)})},[]);var N=function(e){return"1 + 1"!==e.stimulus};function M(e){var t=e.filter(N).map(y).map(function(e){return c.a.createElement("tr",{key:e.createdAt,onClick:function(){return C(e.stimulus)},className:S===e.stimulus?"active":""},!1,c.a.createElement("td",{className:"fanfares-stimulus"},e.formattedStimulus),c.a.createElement("td",{className:"fanfares-guage"},e.success?c.a.createElement(k,{val:j(e.delayA)}):"\ud83e\udd4a"),c.a.createElement("td",{className:"fanfares-speed"},e.delayA&&j(e.delayA)))});b(t),m("SHOW")}return"LOADING"===i?c.a.createElement("div",{onClick:r},"Loading..."):"ERROR"===i?c.a.createElement("pre",{style:{display:"block"}},JSON.stringify(f)):"SHOW"===i?c.a.createElement("section",{className:"fanfares"},c.a.createElement("h2",{className:"fanfares-heading"},"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f"),c.a.createElement("table",{className:"fanfares-table"},c.a.createElement("tbody",null,p)),c.a.createElement("button",{className:"fanfares-close",onClick:r},"Close")):c.a.createElement("div",{style:{display:"block"}},"OOPS...",i)},A=n(12),z=new Date(A.id);console.log("BUILD ID:",A.id,z.toLocaleString());var R=function(){return c.a.createElement("span",null,z.toLocaleString())},x={HOME:"HOME",EXCERCISE:"EXCERCISE",EASE:"EASE",FLUSH:"FLUSH"},I=12,D="@math::default-user",T=[{id:"test",name:"Test"},{id:"kate",name:"Kate"},{id:"sergey",name:"Sergey"},{id:"lera",name:"Lerchik"}],L={question:"1 + 1",expectedAnswer:"2"};var B=function(e){var t=e.db,n=e.user,r=e.goToPage,l=Object(a.useState)(L),u=Object(s.a)(l,2),i=u[0],m=u[1],E=Object(a.useState)(0),f=Object(s.a)(E,2),v=f[0],h=f[1],g=Object(a.useState)("TO_BE_STARTED"),p=Object(s.a)(g,2),b=p[0],w=p[1],O=Object(a.useState)(Date.now()),S=Object(s.a)(O,2),C=S[0],y=S[1],N=Object(a.useState)(!1),k=Object(s.a)(N,2),A=k[0],z=k[1];function x(e){console.log("Saving result:",e),z(!0),t.table("reviews").add(Object(o.a)({createdAt:new Date,session:C},e)).then(function(e){console.log("Review result saved with id:"+e),z(!1),v<I?(h(v+1),function(){var e=d[0].getTask({},i);m(e)}()):w("FANFARES")})}function D(){h(0),m(L),y(Date.now()),w("RUNNING")}var T=function(){return c.a.createElement("button",{className:"exercise-button-start",onClick:D},"START")};return c.a.createElement(c.a.Fragment,null,"RUNNING"===b?c.a.createElement("progress",{value:v,max:I+1}):c.a.createElement("header",{className:"header-nav"},c.a.createElement("span",{className:"header-nav-item",onClick:function(){return r("HOME")}},n.name),c.a.createElement("span",{className:"header-item-push-right header-app-version"},c.a.createElement(R,null))),c.a.createElement("main",{className:"main-exercise"},"TO_BE_STARTED"===b&&T(),"RUNNING"===b&&(A?c.a.createElement("div",null,"Saving..."):c.a.createElement(j,{question:i.question,expectedAnswer:i.expectedAnswer,handleComplete:x,key:i.question})),"FANFARES"===b&&c.a.createElement(M,{db:t,sessionId:C,doneHandler:function(){return w("DONE")}}),"DONE"===b&&T()))},U=(n(32),function(e){return parseInt(String(e).slice(-1),10)}),H=function(e,t){return U(e)+U(t)<=10},F=function(e,t,n){return e===n||t===n},W=function(e,t){return 0===U(e)||0===U(t)},G=function(e,t){return e>10&&t>10&&H(e,t)},q=function(e,t){return function(e,t){return F(e,t,0)}(e,t)?"E0":function(e,t){return F(e,t,1)}(e,t)?"E1":function(e,t){return e+t<=10&&(2===e||2===t)}(e,t)?"A1":function(e,t){return e+t<=10}(e,t)?"A2":function(e,t){return 0===U(e)||0===U(t)}(e,t)?"B0":function(e,t){return!W(e,t)&&!G(e,t)&&H(e,t)}(e,t)?"B1":function(e,t){return e<10||t<10}(e,t)?"B2":W(e,t)?"C0":G(e,t)?"C1":function(e,t){return e>10&&t>10&&!H(e,t)}(e,t)?"C2":"UNKNOWN"},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array(e).fill(void 0).map(function(e,n){return n+t})},V=P(99,0),X=P(99,0),_={};V.forEach(function(e){X.forEach(function(t){var n=q(e,t),a=_[n]||0;_[n]=a+1})}),console.log(_);var J=function(e){return c.a.createElement("tr",{key:e},c.a.createElement("th",{scope:"row",key:"0"},e),X.map(function(t){return function(e,t){if(!(e+t>=100)){var n=q(e,t);return c.a.createElement("td",{className:n,key:"".concat(e,",").concat(t),title:n},e+t)}}(e,t)}))},K=function(){return c.a.createElement("tr",{key:"0"},c.a.createElement("th",{scope:"col",key:"0"}),X.map(function(e){return c.a.createElement("th",{scope:"col",key:e},e)}))};var Z=function(){return c.a.createElement("table",{className:"difficulties-table"},c.a.createElement("tbody",null,K(),V.map(function(e){return J(e)})))};function Q(e){var t=e.userId,n=e.updateUser,a=e.goToPage;return c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"user-select"},"Change user:"),c.a.createElement("select",{id:"user-select",onChange:function(e){var t=e.target.value,a=T.filter(function(e){return e.id===t})[0];a&&n(a.id)},value:t},T.map(function(e){var t=e.id,n=e.name;return c.a.createElement("option",{key:t,value:t},n)})),c.a.createElement("button",{style:{marginLeft:20},onClick:function(){return a("EXCERCISE")}},"\u0425"))}var $=n(10),Y=$.b.initializeDefaultAppClient("mathapp-dktrl"),ee=Y.getServiceClient($.a.factory,"math-stitch-service");var te={LOADING_REVIEWS:"LOADING_REVIEWS",LOADED:"LOADED",ERROR:"ERROR"};var ne=function(e){var t=e.userId,n=e.db,r=Object(a.useState)(te.LOADING_REVIEWS),l=Object(s.a)(r,2),u=l[0],i=l[1],m=Object(a.useState)(Y.auth.isLoggedIn),d=Object(s.a)(m,2),E=d[0],f=d[1],v=Object(a.useState)(-1),h=Object(s.a)(v,2),g=h[0],p=h[1],b=Object(a.useState)(""),w=Object(s.a)(b,2),O=w[0],S=w[1],C=Object(a.useState)(""),j=Object(s.a)(C,2),y=j[0],N=j[1];function k(){return n.table("reviews").count().then(function(e){return p(e),e})}function M(e){return Object(o.a)({},e,{who:t,host:window.location.host,navigator:window.navigator.userAgent})}return Object(a.useEffect)(function(){k().then(function(e){return i(te.LOADED)}).catch(function(e){console.log(e),i(te.ERROR)})},[]),c.a.createElement("div",null,c.a.createElement("h1",null,t),u!==te.LOADED&&c.a.createElement("div",null,u),g>-1&&c.a.createElement("div",null,"Unsaved reviews: ",g),c.a.createElement("div",null,"Authed: ",JSON.stringify(E)),c.a.createElement("div",null,c.a.createElement("input",{type:"text",onChange:function(e){return S(e.target.value)},value:O}),c.a.createElement("input",{type:"password",onChange:function(e){return N(e.target.value)},value:y}),c.a.createElement("button",{onClick:function(){(function(e){var t=e.email,n=e.password,a=new $.c(t,n);return Y.auth.loginWithCredential(a).then(function(e){return console.log("successfully logged in with id: ".concat(e.id))}).catch(function(e){return console.error("login failed with error: ".concat(e))})})({email:O,password:y}).then(function(){return f(Y.auth.isLoggedIn)})}},"login")),c.a.createElement("button",{onClick:function(){n.table("reviews").toArray(function(e){console.log("Reviews to flush:",e.length),e.length&&(console.log("Saving to server"),ee.db("mathDb").collection("reviews").insertMany(e.map(M)).then(function(t){var a=Object.keys(t.insertedIds).length;console.log("Saved ".concat(a),t.insertedIds),a===e.length?n.table("reviews").clear().then(function(){return console.log("DELETED: ",a),k()}).catch(function(e){return console.error(e)}):console.log("Skipping clear")}).catch(function(e){return console.log(e)}))})}},"FLUSH"))},ae=n(17);var ce={},re=function(e){return ce[e]||(ce[e]=function(e){var t=new ae.a(e);return t.version(1).stores({reviews:"&createdAt, session, stimulus, success, delayA, delayZ"}),t}(e)),ce[e]},le=n(18),se=n.n(le),oe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,whiteSpace:"nowrap",clipPath:"inset(100%)",clip:"rect(0 0 0 0)",overflow:"hidden"};var ue=function(e){var t=e.children;return c.a.createElement("div",{style:oe},t)};var ie=function(){var e=Object(a.useState)(x.EXCERCISE),t=Object(s.a)(e,2),n=t[0],r=t[1],l=se()(D),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(a.useState)(u||T[0]),d=Object(s.a)(m,2),E=d[0],f=d[1],v=Object(a.useState)(E?re(E.id):null),h=Object(s.a)(v,2),g=h[0],p=h[1];function b(e){if(e!==E.id){var t=T.filter(function(t){return t.id===e})[0];i(t),f(t);var n=re(t.id);p(n),r(x.EXCERCISE)}}var w=E&&E.id||null;return c.a.createElement(c.a.Fragment,null,function(){switch(n){case x.HOME:return c.a.createElement(c.a.Fragment,null,c.a.createElement(Q,{key:w,userId:w,updateUser:b,goToPage:r}),c.a.createElement(ne,{db:g,userId:w}));case x.EXCERCISE:return c.a.createElement(B,{db:g,user:E,goToPage:r});case x.EASE:return c.a.createElement(Z,null);default:return c.a.createElement("div",null,"UNEXPECTED PAGE REQUEST: ",n)}}(),c.a.createElement(ue,null,c.a.createElement("span",{className:"pixeled"},"."),c.a.createElement("img",{src:N.a,alt:""})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[20,1,2]]]);